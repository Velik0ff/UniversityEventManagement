extends layout

block content
    .container
        h3.title=title
        if addLink
            a.btn.btn-success(href=addLink style="margin:5px;") Add New

        button.btn.btn-link#filterBtn Filter

        p
            input.form-control(type="text" placeholder="Search by typing name or ID..")


        div#filter(style="display:none;")
            h5="Filter Data"
            hr

            if filter == "Events"
                div#rangeSpaces
                    h6="Spaces Available"
                    div.row
                        div.col-sm
                            span="Minimum"
                            input.form-control(type="number")
                        div.col-sm
                            span="Maximum"
                            input.form-control(type="number")
                hr

                div#rangeVisitors
                    h6="Number of Visitors"
                    div.row
                        div.col-sm
                            span="Minimum"
                            input.form-control(type="number")
                        div.col-sm
                            span="Maximum"
                            input.form-control(type="number")
                hr

                div#rangeDate
                    h6="Dates"
                    div.row
                        div.col-sm
                            span="From"
                            input.form-control(type="date")
                        div.col-sm
                            span="To"
                            input.form-control(type="date")
                hr

            if filter == "Equipment"
                div#rangeQuantity
                    h6="Quantity"
                    div.row
                        div.col-sm
                            span="Minimum"
                            input.form-control(type="number")
                        div.col-sm
                            span="Maximum"
                            input.form-control(type="number")
                hr

            if filter == "Rooms"
                div#rangeCapacity
                    h6="Capacity"
                    div.row
                        div.col-sm
                            span="Minimum"
                            input.form-control(type="number")
                        div.col-sm
                            span="Maximum"
                            input.form-control(type="number")
                hr


            center
                button.btn.btn-primary()="Apply Filter"

        table.table
            thead
                tr
                    each column in columns
                        th(scope='col')=column
            tbody
                if error
                    tr
                        td(colspan=columns.length align="center")=error
                each item in list
                    tr
                        each info,index in item
                            if index==="id"
                                th(scope='row')=info
                            else if index==="name"
                                td
                                    a(href=viewLink+"?id="+item.id)=info
                            else
                                td=info
                        if deleteLink || editLink
                            td
                                if editLink
                                    a.options-btn(href=editLink+"?id="+item.id)
                                        i.material-icons.md-18 edit
                                if deleteLink
                                    a.options-btn(href=deleteLink+"?id="+item.id onclick="return confirm('Are you sure you want to delete this entity?')")
                                        i.material-icons.md-18 delete

    script.
        $("#filterBtn").on('click', function(event){
        	let filter_container = $("#filter");

        	if(filter_container.css('display')=='none'){
        		filter_container.css('display','block');
            } else {
                filter_container.css('display','none');
            }
        });